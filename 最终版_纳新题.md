注:
- 本题目只作为 Xiyou Linux 兴趣小组 2022 纳新面试的有限参考。
- 为节省版面本试题的程序源码省去了 `#include` 指令。
- 本试题中的程序源码仅用于考察「C 语言」基础，不应当作为「C 语言」代码风格的范例。
- 题目难度随机排列。
- 所有题目编译并运行于 `x86_64 GNU/Linux` 环境。


# 1. 小试宏刀
- 请谈谈你对 `#define` 的理解。
- 尝试着解释程序的输出。

```c
#define S 2026
#define Y(x) S *x *x

int main(void) {
  int a = 1;
  int b = 2;

  printf("Welcome to Xiyou Linux Group%d\n", Y(a - b));
}
```

# 2. printf 还能这么玩

```c
int main(void) {
  if ((3 + 2 < 2) > (3 + 2 > 2))
    printf("Here\n");
  else
    printf("%d\n", printf("Xiyou Linux Group - 2%d", printf("")));
}
```

# 3. 你好你好你好呀
- 程序的输出是怎么样的呢，尝试解释一下为什么吧。
- 谈谈你对 `sizeof()` 与 `strlen()` 的理解吧。

```c
int main(void) {
  char p[15] = "Hello,Linux";
  char* p1 = "Hello,Linux";
  char* p2 = "Hello,Linux";
  printf("p == p1: %d\t p2 == p1: %d\t p == p2: %d\n", p == p1, p2 == p1,
         p == p2);
  printf("sizeof(p): %zu\t sizeof(p1): %zu\tsizeof(*p2): %zu\n", sizeof(p),
         sizeof(p1), sizeof(*p2));
  printf("strlen(p): %lu\t strlen(p1) :%lu\n", strlen(p), strlen(p1));
}
```

# 4. 换个变量名不行吗
- 谈谈你对全局变量和局部变量的理解吧。
- 你理解「C 语言」中变量的生命周期吗。

```c
int a = 3;

void test() {
  int a = 1;
  a += 1;
  {
    int a = 1;
    printf("a = %d\n", a);
  }
  printf("a = %d\n", a);
}

int main(void) {
  test();
  printf("a = %d\n", a);
}
```

# 5. 内存对不齐
- `union` 与 `struct` 各有什么特点呢，你了解他们的内存分配模式吗。

```c
typedef union {
  long i;
  int k[5];
  char c;
} DATE;

struct data {
  int cat;
  DATE cow;
  double dog;
} too;
DATE max;

int main(void) {
  int *test;
  struct data a;
  printf("sizeof(a) = %zu\n", sizeof(a));
  printf("sizeof(max) = %zu\n", sizeof(max));
  printf("sizeof(test) = %zu\n", sizeof(test));
}
```

# 6. bitwise
- 解释一下计算结果吧。
- 你都了解哪些运算符呢。

```c
int func(int x) {
  x = x ^ (x >> 1);
  x = x ^ (x >> 2);
  x = x ^ (x >> 4);
  x = x ^ (x >> 8);
  x = x ^ (x >> 16);
  return x & 0x1;
}

int main(void) {
  printf("ret1 = %d\n", func(6));
  printf("ret2 = %d\n", func(4));
}
```

# 7. 英译汉，汉译英

1. 说说下面数据类型的含义。
A. `char *const p`。
B. `char const *p`。
C. `const char *p`。
D. 谈谈 `const` 的作用。

2. 用变量 `p` 给出下面的定义：
A. 含有 10 个指向 `int` 的指针的数组。
B. 指向含有 10 个 `int` 数组的指针。
C. 含有 2 个指向「含有 3 个『指向函数的指针』的数组」的指针的数组，被指向的函数有 1 个 `int` 参数并返回 `int`。

# 8. 手脑并用
- 实现 `ConvertAndMerge` 函数：拼接输入的两个字符串，并翻转拼接后得到的新字符串中所有字母的大小写。
- 提示：你需要为新字符串分配空间。

```c
char* convertAndMerge(/* 补全签名 */);
int main(void) {
  char words[2][20] = {"Welcome to Xiyou ", "Linux Group 2022"};

  printf("%s\n", words[0]);
  printf("%s\n", words[1]);

  char* str = convertAndMerge(words);
  printf("str = %s\n", str);
  free(str);
}
```

# 9. 给你我的指针，访问你的心声
程序的输出有点奇怪，尝试解释一下程序的输出吧。

```c
int main(int argc, char **argv) {
  int arr[5][5];
  int a = 0;
  for (int i = 0; i < 5; i++) {
    int *temp = *(arr + i);
    for (; temp < arr[5]; temp++) {
      *temp = a++;
    }
  }

  for (int i = 0; i < 5; i++) {
    for (int j = 0; j < 5; j++) {
      printf("%d\t", arr[i][j]);
    }
    printf("\n");
  }
}
```

# 10. 奇怪的参数
- 直接运行程序 `argc` 的值为什么是 1？
- 程序会出现死循环吗？
- 你了解 `argc` 和 `argv` 吗？

```c
int main(int argc, char **argv) {
  printf("argc = %d\n", argc);
  while (1) {
    argc++;
    if (argc < 0) {
      printf("%s\n", (char *)argv[0]);
      break;
    }
  }
}
```

# 11. 你相信宏魔法吗
- 请解释每一个宏。
- 关于 `do {...} while (0)` 在宏定义中的作用你都了解多少呢？

```c
#define MAX1(x, y) x > y ? x : y            //解决test1
#define MAX2(x, y) ((x) > (y) ? (x) : (y))  //解决test2
#define END() do{printf("Program Process End\n");} while(0);

int main(void) {
  printf("max = %d\n", MAX1(1, 2));                  // test1
  printf("max = %d\n", 100 + MAX2(1 != 1, 1 != 2));  // test2
  END()
}
```

# 12. 奇怪的字符
程序有点奇怪，尝试解释一下程序吧。

```c
int main(int argc, char **argv) {
  int data1[2][3] = {{0X636c6557, 0X20656d6f, 0X58206f74},
                     {0X756f7969, 0X6e694c20, 0x00000000}};
  int data2[] = {0X47207875, 0X70756f72, 0X32303220, 0X00000a32};

  char *a = (char *)data1;
  char *b = (char *)data2;
  char buf[1024];
  strcpy(buf, a);
  strcat(buf, b);
  printf("%s\n", buf);
}
```

# 13. 混乱中建立秩序
你对排序算法了解多少呢？谈谈你所了解的排序算法的思想、稳定性、时间复杂度、空间复杂度。动动你的小手敲出来更好哦~~~

# 14. （选做）我的计算器好像坏了？！
2^10 = 1024 对应于十进制的 4 位，那么 2^10000 对应于十进制的多少位呢？

# 15. （选做）GNU/Linux 命令
- 你知道以下命令的含义和用法吗：
  - ls
  - rm
  - whoami
- 你还了解哪些 GNU/Linux 下的命令。